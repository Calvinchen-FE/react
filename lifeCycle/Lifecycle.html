<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Component Lifecycle!</title>
    <script src="scripts/react.js"></script>
    <script src="scripts/JSXTransformer.js"></script>
     <script src="scripts/react-with-addons.js"></script>
  </head>
  <body>
    <div id="example"></div>
    <script type="text/jsx">
    	var Hello = React.createClass({
    	  getInitialState: function () {
    	    return {
    	      opacity: 1.0
    	    };
    	  },

    	  componentDidMount: function () {
    	    this.timer = setInterval(function () {
    	      var opacity = this.state.opacity;
    	      opacity -= .05;
    	      if (opacity < 0.1) {
    	        opacity = 1.0;
    	      }
    	      this.setState({
    	        opacity: opacity
    	      });
    	    }.bind(this), 100);
    	  },

    	  render: function () {
    	    return (
    	      <div style={{opacity: this.state.opacity}}>
    	        Hello {this.props.name}
    	      </div>
    	    );
    	  }
    	});
    	React.render(
    		<Hello name="world"/>,
    		document.body
    	);
    </script>
  </body>
</html>